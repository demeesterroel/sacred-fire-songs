# Epics & User Stories: Camino Rojo Song Sharing App

**Version:** 1.0
**Status:** Draft
**Date:** December 25, 2025

## Changelog

| Version | Date | Description of Changes |
| ----- | ----- | ----- |
| **1.0** | Dec 25, 2025 | Initial Document Creation. Defined Epics and User Stories for Phases 1-4. |
| **1.1** | Dec 29, 2025 | Added Story 1.3.3 (Navigation) and aligned UI mockups. |


This document breaks down the project roadmap into actionable Epics and User Stories, following the Agile methodology. Acceptance Criteria are defined using **Gherkin syntax** (Given/When/Then).

## Phase 1: The Bare Essentials (MVP)

**Focus:** Core song management and basic public viewing.

### Epic 1.1: Song Management (Admin)

**Story 1.1.1:** As an Admin, I want to upload a raw `.cho` file so that I can quickly add existing songs to the database.

```
Scenario: Admin uploads a valid ChordPro file
  Given I am logged in as an Admin
  And I am on the "Upload Song" page
  When I select a file named "grandmother_earth.cho" containing "{title: Grandmother Earth}"
  And I click the "Upload" button
  Then a new song should be created in the database
  And the song title should be "Grandmother Earth"
  And I should see a "Upload Successful" success message
```

**Story 1.1.2:** As an Admin, I want to delete a song so that I can remove duplicate or incorrect entries.

```
Scenario: Admin deletes a song
  Given I am logged in as an Admin
  And I am viewing the song list
  When I click the "Delete" icon on the song "Pachamama"
  And I confirm the deletion in the modal
  Then the song "Pachamama" should no longer appear in the list
```

**Story 1.1.3:** As an Admin, I want to log in securely so that I can access management features.

```
Scenario: Successful Admin Login
  Given I am on the Login page
  When I enter a valid email "admin@caminorojo.com" and valid password
  And I click "Sign In"
  Then I should be redirected to the Home page
  And I should see Admin controls (e.g., Upload button, Delete icons)
```

### Epic 1.2: Public Library & Discovery

**Story 1.2.1:** As a Guest, I want to view a list of all songs so that I can see what is available in the songbook.

```
Scenario: Guest views song library
  Given I am an unauthenticated Guest
  When I visit the Home page
  Then I should see a list of songs
  And each song card should display a Title and Author
  And the list should load more songs as I scroll down
```

**Story 1.2.2:** As a Guest, I want to search for a song by title or lyrics so that I can find a specific medicine song.

```
Scenario: Search by lyrics
  Given the library contains a song titled "Water Spirit" with lyrics "Healing water"
  When I type "Healing" into the search bar
  Then the song "Water Spirit" should appear in the results
```

### Epic 1.3: Basic Song Viewer

**Story 1.3.1:** As a Musician, I want to see chords displayed above the lyrics so that I can play the song on my guitar.

```
Scenario: Render ChordPro content
  Given a song has content "[Am]Grandmother [C]Earth"
  When I view the Song Detail page
  Then the chord "Am" should be rendered visually above the word "Grandmother"
  And the chord "C" should be rendered visually above the word "Earth"
```

**Story 1.3.2:** As a Guest, I want to listen to an audio reference so that I can learn the melody.

```
Scenario: Display Audio Player
  Given a song has an audio_url "https://soundcloud.com/example"
  When I view the Song Detail page
  Then I should see an embedded SoundCloud player at the bottom of the page
```

**Story 1.3.3:** As a User, I want to navigate back to the home screen from any page so that I can easily browse more songs.

```
Scenario: Navigate back to home
  Given I am on the Song Detail page
  When I click the "Back" arrow in the header
  Then I should be redirected to the Home page
```

## Phase 2: Minimal Lovable Product (MLP)

**Focus:** Utility for musicians and better organization.

### Epic 2.1: Music Tools

**Story 2.1.1:** As a Musician, I want to transpose the chords of a song so that I can match my vocal range.

```
Scenario: Transpose Up
  Given the current key is "C"
  And the first chord displayed is "C"
  When I click the "Transpose +1" button
  Then the displayed key should be "C#"
  And the first chord displayed should change to "C#"
```

**Story 2.1.2:** As a Learner, I want to see the melody in sheet music notation so that I can learn the exact notes.

```
Scenario: Render Sheet Music
  Given a song has ABC notation data "C D E F"
  When I view the Song Detail page
  Then I should see a musical staff rendered visually
  And the notes C, D, E, and F should be visible on the staff
```

**Story 2.1.3:** As a Learner, I want to play the melody notes so that I can hear how it sounds without an instrument.

```
Scenario: Play Melody
  Given the sheet music is visible
  When I click the "Play Melody" button
  Then I should hear the notes generated by the synthesizer
  And the cursor should move along the notes as they play
```

### Epic 2.2: Rich Editing

**Story 2.2.1:** As an Admin, I want to edit song lyrics and chords in a text editor so that I can fix typos without re-uploading a file.

```
Scenario: Manual Edit
  Given I am logged in as Admin
  And I am on the Edit page for "Song A"
  When I change the text "[C]Hello" to "[G]Hello"
  And I click "Save"
  Then the song should be updated in the database
  And I should be redirected to the Song Detail view showing the chord "G"
```

### Epic 2.3: Taxonomy & Filtering

**Story 2.3.1:** As a User, I want to filter songs by category (e.g., "Water", "Fire") so that I can find songs for specific ceremony moments.

```
Scenario: Filter by Category
  Given there are songs tagged "Water" and songs tagged "Fire"
  When I select "Water" from the filter menu
  Then only songs tagged with "Water" should be visible
  And songs tagged with "Fire" should be hidden
```

## Phase 3: Community & Evolution

**Focus:** User engagement and crowdsourcing.

### Epic 3.1: User Accounts

**Story 3.1.1:** As a User, I want to sign up with my Google/Facebook account so that I don't have to remember another password.

```
Scenario: Social Login
  Given I am on the Login page
  When I click "Continue with Google"
  And I authenticate successfully with Google
  Then a user profile should be created for me in the system
  And I should be logged in
```

**Story 3.1.2:** As a Member, I want to "Heart" songs so that I can quickly access my favorites.

```
Scenario: Add to Favorites
  Given I am logged in
  When I click the "Heart" icon on a song
  Then the icon should change to filled/active
  And the song should appear in my "My Favorites" list
```

### Epic 3.2: Version Control

**Story 3.2.1:** As a Musician, I want to submit a new version of a song (e.g., "Simplified Chords") so that beginners can play it too.

```
Scenario: Add Alternative Version
  Given I am viewing the song "Grandmother Earth"
  When I click "Add Version"
  And I submit valid ChordPro content with the name "Simplified"
  Then a new version should be linked to "Grandmother Earth"
  And it should be viewable via the version selector
```

**Story 3.2.2:** As a Community Member, I want to vote on song versions so that the best arrangement rises to the top.

```
Scenario: Upvote Version
  Given there are two versions of a song
  When I click "Upvote" on Version B
  Then the vote count for Version B should increment by 1
```

## Phase 4: Professional Toolkit

**Focus:** Tools for ceremony leaders.

### Epic 4.1: Setlists

**Story 4.1.1:** As a Ceremony Leader, I want to create a named setlist so that I can prepare for a specific night.

```
Scenario: Create Setlist
  Given I am logged in
  When I go to "My Setlists" and click "New"
  And I name it "Full Moon Ceremony"
  Then a new empty setlist named "Full Moon Ceremony" should exist
```

**Story 4.1.2:** As a Leader, I want to reorder songs in my setlist so that the flow matches the ceremony intensity.

```
Scenario: Reorder Setlist
  Given I have a setlist with "Song A" at position 1 and "Song B" at position 2
  When I drag "Song B" to position 1
  Then "Song B" should be at position 1
  And "Song A" should be at position 2
```

### Epic 4.2: Print & Export

**Story 4.2.1:** As a User, I want to generate a PDF of my setlist so that I can print it for the ceremony.

```
Scenario: Export PDF
  Given I am viewing a setlist
  When I click "Export PDF"
  Then a PDF file should download
  And the PDF should contain the lyrics and chords for all songs in the setlist
```

**Story 4.2.2:** As a User, I want to group songs by category in the PDF so that I can keep "Water" songs together on paper.

```
Scenario: Group by Category in PDF
  Given my setlist contains songs from "Water" and "Fire" categories mixed together
  When I select "Group by Category" in the export options
  And I generate the PDF
  Then the PDF should show all "Fire" songs grouped together
  And followed by all "Water" songs grouped together (or vice versa)
```

### Epic 4.3: Offline Reliability

**Story 4.3.1:** As a User, I want to access my setlists while offline so that I can use the app in the forest.

```
Scenario: Offline Access
  Given I have previously viewed "Full Moon Setlist" while online
  And I am currently disconnected from the internet
  When I navigate to "Full Moon Setlist"
  Then the setlist and its songs should load from the cache
  And I should see an "Offline Mode" indicator
```
